<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: howto | 飲んだり寝たり]]></title>
  <link href="http://nomnel.net/blog/categories/howto/atom.xml" rel="self"/>
  <link href="http://nomnel.net/"/>
  <updated>2013-07-30T23:44:16+09:00</updated>
  <id>http://nomnel.net/</id>
  <author>
    <name><![CDATA[nomnel]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Railsで多対多の関係を表現する]]></title>
    <link href="http://nomnel.net/blog/rails-many-to-many-relationship/"/>
    <updated>2013-07-14T17:00:00+09:00</updated>
    <id>http://nomnel.net/blog/rails-many-to-many-relationship</id>
    <content type="html"><![CDATA[<p>例えばUserモデルとCompanyモデルが多対多(お互いhas_many)の関係であることを表現するときは, 中間のモデルCompanyUser(アルファベット順にならべる)を使う.</p>

<p>それぞれコードは以下のようになる.</p>

<p>```ruby</p>

<h1>app/models/user.rb</h1>

<p>class User &lt; ActiveRecord::Base
  has_many :company_users
  has_many :companies, through: :company_users
end
```</p>

<p>```ruby</p>

<h1>app/models/company.rb</h1>

<p>class Company &lt; ActiveRecord::Base
  has_many :company_users
  has_many :users, through: :company_users
end
```</p>

<p>```ruby</p>

<h1>app/models/company_user.rb</h1>

<p>class CompanyUser &lt; ActiveRecord::Base
  belongs_to :company
  belongs_to :user
end
```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[RailsでSQLiteを操作する]]></title>
    <link href="http://nomnel.net/blog/rails-db-command/"/>
    <updated>2013-07-13T20:00:00+09:00</updated>
    <id>http://nomnel.net/blog/rails-db-command</id>
    <content type="html"><![CDATA[<p>MySQLだと<code>mysql -u root -p DATABASE_NAME</code>とかすれば直接操作出来るんだけどSQLiteだとどうすんのかなー, って思ってたら</p>

<p><code>sh
rails db
</code></p>

<p>でいいっぽい. もちろんMySQLをDBに指定していたら上のコマンドでMySQLが起動される.</p>

<p>ちなみに</p>

<p>```sh
終了
.exit or .quit</p>

<p>テーブル一覧
.tables</p>

<p>その他コマンド
.help
```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Jenkinsでビルド失敗時にGmailで通知する]]></title>
    <link href="http://nomnel.net/blog/jenkins-notification-using-gmail/"/>
    <updated>2013-06-14T00:00:00+09:00</updated>
    <id>http://nomnel.net/blog/jenkins-notification-using-gmail</id>
    <content type="html"><![CDATA[<p>Manage Jenkins -> Configure Systemを開き, E-mail Notification欄に以下のように記述する.<!-- more --></p>

<p><code>
SMTP server: smtp.gmail.com
Default user e-mail suffix: 空白
</code></p>

<p><code>Advanced...</code>をクリックして, 詳細設定を表示し,<code>use SMTP Authentication</code>にチェックを入れて,</p>

<p><code>
User Name: [USERNAME]@gmail.com
Password: 上のパスワード
Use SSL: チェックを入れる
SMTP Port: 465
Reply-To Address: [USERNAME]@gmail.com
Charset: UTF-8
</code></p>

<p>終わったら<code>Test configuration by sending test e-mail</code>にチェックを入れて, <code>Test e-mail recipient</code>に送信先アドレスを入力し, <code>Test configuration</code>をクリックしてテスト送信を行う. <code>Email was successfully sent</code>を表示されたら成功.</p>

<p><code>Save</code>もしくは<code>Apply</code>をクリックして設定を保存しておくのを忘れずに.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rails4でturbolinksを使わない]]></title>
    <link href="http://nomnel.net/blog/rails4-no-turbolinks/"/>
    <updated>2013-05-29T15:04:00+09:00</updated>
    <id>http://nomnel.net/blog/rails4-no-turbolinks</id>
    <content type="html"><![CDATA[<p><code>rails new</code>するときにturbolinksがbundlerでインストールされるので, 嫌なら<code>--skip-bundle</code>オプションを付けて作成する.</p>

<p><code>sh
bundle exec rails new APPNAME --skip-bundle
</code></p>

<p>でまず, <code>Gemfile</code>から</p>

<p><code>ruby
gem 'turbolinks'
</code></p>

<p>の行をコメントアウト.</p>

<p>次に<code>app/assets/javascripts/application.js</code>で</p>

<p><code>javascript
//= require turbolinks
</code></p>

<p>の行を削除.</p>

<p>最後に<code>app/views/layouts/application.html.erb</code>で</p>

<p><code>erb
&lt;%= stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" =&gt; true %&gt;
&lt;%= javascript_include_tag "application", "data-turbolinks-track" =&gt; true %&gt;
</code></p>

<p>となっている箇所を</p>

<p><code>erb
&lt;%= stylesheet_link_tag    "application", media: "all" %&gt;
&lt;%= javascript_include_tag "application" %&gt;
</code></p>

<p>に変更.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Railsで初期化後に何か処理をしたいとき]]></title>
    <link href="http://nomnel.net/blog/rails-after-initialize/"/>
    <updated>2013-05-15T01:15:00+09:00</updated>
    <id>http://nomnel.net/blog/rails-after-initialize</id>
    <content type="html"><![CDATA[<p><code>config/application.rb</code>などで</p>

<p><code>rb
config.after_initialize do
  # ここに処理を記述
end
</code></p>

<p>とすればよい.</p>
]]></content>
  </entry>
  
</feed>
