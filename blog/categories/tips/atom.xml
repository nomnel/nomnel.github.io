<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: tips | 飲んだり寝たり]]></title>
  <link href="http://nomnel.net/blog/categories/tips/atom.xml" rel="self"/>
  <link href="http://nomnel.net/"/>
  <updated>2013-05-10T17:21:27+09:00</updated>
  <id>http://nomnel.net/</id>
  <author>
    <name><![CDATA[nomnel]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[CentOSのバージョンとアーキテクチャの確認]]></title>
    <link href="http://nomnel.net/blog/confirm-centos-version/"/>
    <updated>2013-05-02T11:40:00+09:00</updated>
    <id>http://nomnel.net/blog/confirm-centos-version</id>
    <content type="html"><![CDATA[<p>```sh</p>

<h1>バージョン確認</h1>

<p>cat /etc/redhat-release</p>

<h1>=> CentOS release 6.4 (Final)</h1>

<h1>OSが64bitか32bitか</h1>

<p>arch</p>

<h1>=> x86_64</h1>

<p>```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Railsでページ遷移前に確認ダイアログを表示する]]></title>
    <link href="http://nomnel.net/blog/rails-confirm-on-leaving-the-page/"/>
    <updated>2013-04-26T18:00:00+09:00</updated>
    <id>http://nomnel.net/blog/rails-confirm-on-leaving-the-page</id>
    <content type="html"><![CDATA[<p>実装のみ簡単に.</p>

<!-- more -->


<p>coffeeはこんな感じ.</p>

<p>```coffeescript
isChanged = false
$('#hoge').change ->
  isChanged = true</p>

<p>orgSubmit = $('input[type=submit]').onClick
$('input[type=submit]').click ->
  isChanged = false
  orgSubmit()</p>

<p>$(window).bind 'beforeunload', ->
  return unless isChanged
  '表示したいメッセージ'
```</p>

<p>specは</p>

<p>```ruby
scenario 'hogeを変更後にsubmit以外のページ遷移しようとしたときに確認ダイアログを表示' do
  find('#hoge').set 'My String'</p>

<p>  visit root_path
  expect(page.driver.confirm_messages[0]).to eq '表示したいメッセージ'
end
```</p>

<p>な感じ.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[rbenvを使っていてSublimeREPLでRubyのREPLが使えないとき]]></title>
    <link href="http://nomnel.net/blog/sublimerepl-cant-open-ruby-repl/"/>
    <updated>2013-04-20T18:00:00+09:00</updated>
    <id>http://nomnel.net/blog/sublimerepl-cant-open-ruby-repl</id>
    <content type="html"><![CDATA[<h3>現象</h3>

<p>SublimeREPLでRubyのREPLを開くと,</p>

<p><code>``ruby
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems.rb:777:in</code>report_activate_error': Could not find RubyGem pry (>= 0) (Gem::LoadError)
  from /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems.rb:211:in <code>activate'
  from /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems.rb:1056:in</code>gem'
  from /Users/nomnel/Library/Application Support/Sublime Text 2/Packages/SublimeREPL/config/Ruby/pry_repl.rb:2</p>

<p><strong><em>Repl Closed</em></strong>
```</p>

<p>というエラーが表示されるのみでREPLは使えない. <!-- more --></p>

<h3>対策</h3>

<p>まず, pryが入っていなかったら入れておく.</p>

<p><code>sh
rbenv exec gem install pry
</code></p>

<p>pryがインストール出来たら<code>~/Library/Application\ Support/Sublime\ Text\ 2/Packages/SublimeREPL/config/Ruby/Main.sublime-menu</code>を開き</p>

<p><code>json
"osx":[
  "ruby",
  "${packages}/SublimeREPL/config/Ruby/pry_repl.rb",
  "$editor"
]
</code></p>

<p>となっている箇所を探す. この2行目の<code>ruby</code>を<code>/Users/username/.rbenv/shims/ruby</code>に変えればおーけー. <code>~/.rbenv/shims/ruby</code>でないことに注意.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Octopressでrake generateに失敗する]]></title>
    <link href="http://nomnel.net/blog/octopress-cant-generate-including-multibyte-url/"/>
    <updated>2013-04-18T02:00:00+09:00</updated>
    <id>http://nomnel.net/blog/octopress-cant-generate-including-multibyte-url</id>
    <content type="html"><![CDATA[<p>こんな感じに失敗するとき,</p>

<p>```sh
$ rake generate</p>

<h2>Generating Site with Jekyll</h2>

<p>identical source/stylesheets/screen.css
Configuration from /Users/nomnel/nomnel.github.io/_config.yml
Building site: source -> public
Liquid Exception: invalid byte sequence in UTF-8 in atom.xml</p>

<p>{スタックトレースがずらずら}</p>

<p>Build Failed
```</p>

<!-- more -->


<p>URLに日本語(マルチバイト？)を含むハイパーリンクを記述しているのが原因っぽい.</p>

<p>こんなの↓</p>

<p><code>
[このURLが原因で失敗する](http://example.com/テスト)
</code></p>

<p>とりあえずは短縮リンクに書き換えるなどして, 日本語を含まないようにしておけば大丈夫.</p>

<p><code>
[このURLは大丈夫](http://byte.ly/hoge)
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Sublime Text2で言語別にインデント幅を設定する]]></title>
    <link href="http://nomnel.net/blog/st2-indentation-settings-per-syntax/"/>
    <updated>2013-04-09T00:00:00+09:00</updated>
    <id>http://nomnel.net/blog/st2-indentation-settings-per-syntax</id>
    <content type="html"><![CDATA[<p>正確にはシンタックス定義別に, だけれども.</p>

<ol>
<li>設定したい言語のファイルを開く(シンタックスを対象の言語に設定する)</li>
<li>Preferences > Settings – More > Syntax Specific – User として言語別の設定ファイル(.sublime-settings)を開く</li>
<li>インデントの設定を記述して保存</li>
</ol>


<p>インデントの設定は</p>

<pre><code>{
    "tab_size": 4,
    "translate_tabs_to_spaces": true,
    "trim_trailing_white_space_on_save": true
}
</code></pre>

<p>みたいな感じになる. (参考: <a href="http://www.sublimetext.com/docs/2/indentation.html">Indentation Settings – Sublime Text 2 Documentation</a>)</p>
]]></content>
  </entry>
  
</feed>
